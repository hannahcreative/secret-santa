var santaApp={};santaApp.names=[],santaApp.finalMatch=[];var counter=0;santaApp.createPair=function(a,n){var t=Math.floor(Math.random()*a.length),p=Math.floor(Math.random()*n.length);if(counter++,t===p&&100>counter)return santaApp.createPair(a,n);var e=a.splice(t,1),r=n.splice(p,1),s=e[0],i=r[0];if(s===i){var o=santaApp.finalMatch[0].receiver;return santaApp.finalMatch[0].receiver=i,{giver:s,receiver:o}}return{giver:s,receiver:i}},santaApp.arrayCopy=function(a){for(var n=[],t=0;t<a.length;t++)n.push(a[t]);return n},santaApp.matchAllUsers=function(){for(var a=santaApp.arrayCopy(santaApp.names),n=santaApp.arrayCopy(santaApp.names);a.length>0;){var t=santaApp.createPair(a,n);santaApp.finalMatch.push(t)}console.log(santaApp.finalMatch)},santaApp.mailUsers=function(){$.ajax({type:"POST",url:"./send.php",data:{matches:santaApp.finalMatch},success:function(a){console.log(a)},dataType:"json"})},santaApp.reSize=function(){$("h1").animate({right:"500px",fontSize:"4rem",top:"0",marginTop:"0"},"slow")},santaApp.init=function(){$("button.start").click(function(){$(".input-stuff").slideDown("slow"),$("header p").hide(),$("button.start").toggle(),santaApp.reSize()}),$("form").on("submit",function(a){if(a.preventDefault(),""!==$("input").val()){var n=$("input").val();console.log(n),$("ul").append("<li>"+n+"</li>"),santaApp.names.push(n),$("input").val("")}}),$("button.end").click(function(){santaApp.mailUsers()})},$(document).ready(function(){santaApp.init()});